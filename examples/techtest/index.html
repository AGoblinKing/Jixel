<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1; user-scalable=0;"/>
    <link href='http://fonts.googleapis.com/css?family=Geo' rel='stylesheet' type='text/css'/>
    <script type="text/javascript" src="../../lib/underscore.js"></script>
    <script type="text/javascript" src="../../lib/RAF.js"></script>
    <script type="text/javascript" src="../../lib/def.js"></script>
    <script type="text/javascript" src="../../jixel.js"></script>
    <script type="text/javascript" src="src/Cat.js"></script>
    <script type="text/javascript">
      var game, level, player, cloud, emitter;
      window.onload = function(){
        var can = document.getElementById('target');
        Jxl.config({canvas:can});
        var am = Jxl.am;
        var assets = {
                      'cloud':['image', '../assets/cloud.png'],
                      'ship':['image', '../assets/ship.png'],
                      'tiles':['image', '../assets/tilemap.png'],
                      'autotiles': ['image', '../assets/autotiles.png'],
                      'autotiles_alt' : ['image', '../assets/autotiles_alt.png'],
                      'animals':['image', '../assets/animals.png']
                    };
        am.load(assets, function() {
            var player = new Cat(am.get('animals'), 50, 0);
            Jxl.state.add(player);
            Jxl.follow(player);
            Jxl.start();    
        });
      };
    </script>
    <style type="text/css">
      body {
        background-repeat:repeat;
        background-color:#6ab5f8;
        margin:0px;
        padding:0px;
        overflow:hidden;
        font-family:'Geo';
      }
    </style>
  </head>
  <body>
    <canvas id="target"></canvas>
    <!--[if lte IE 9]>
    <script type="text/javascript" 
     src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js"></script>

    <style>

     .chromeFrameInstallDefaultStyle {
       width: 100%; /* default is 800px */
       border: 5px solid blue;
     }
    </style>

    <div id="prompt">
    </div>
 
    <script>
     // The conditional ensures that this code will only execute in IE,
     // Therefore we can use the IE-specific attachEvent without worry
     $(function() {
       CFInstall.check({
         mode: "inline", // the default
         node: "prompt"
       });
     });
    </script>
    <![endif]-->
  </body>
</html>